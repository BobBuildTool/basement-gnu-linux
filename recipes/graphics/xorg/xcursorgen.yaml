inherit: [autotools]

metaEnvironment:
    PKG_VERSION: "1.0.9"
    PKG_LICENSE: MIT

depends:
    - libs::xorg::libX11-dev
    - libs::xorg::libXcursor-dev
    - libs::libpng-dev
    - use: []
      depends:
          - libs::xorg::libX11-tgt
          - libs::xorg::libXcursor-tgt
          - libs::libpng-tgt

checkoutSCM:
    scm: url
    url: https://xorg.freedesktop.org/releases/individual/app/xcursorgen-${PKG_VERSION}.tar.xz
    digestSHA256: 0cc9e156ac84ca16ea902710af35e0faffa51d13797071e3b4b6cc7cbd493bbc
    stripComponents: 1

buildScript: |
    LDFLAGS+=" -ldl"
    autotoolsBuild $1 \
       --disable-malloc0returnsnull

provideDeps: ['*-tgt']
packageScript: autotoolsPackageBin
provideTools:
    xcursorgen: usr/bin
