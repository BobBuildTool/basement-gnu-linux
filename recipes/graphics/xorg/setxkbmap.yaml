inherit: [autotools]

metaEnvironment:
    PKG_VERSION: "1.3.4"
    PKG_DESCRIPTION: "Utility to set the keyboard using the X Keyboard Extension"
    PKG_LICENSE: "LicenseRef-setxkbmap"
    PKG_LICENSE_PATH: "setxkbmap:COPYING"

depends:
    - libs::xorg::libX11-dev
    - libs::xorg::libXrandr-dev
    - libs::xorg::libxkbfile-dev
    - use: []
      depends:
          - libs::xorg::libX11-tgt
          - libs::xorg::libXrandr-tgt
          - libs::xorg::libxkbfile-tgt

checkoutSCM:
    scm: url
    url: https://xorg.freedesktop.org/releases/individual/app/setxkbmap-${PKG_VERSION}.tar.xz
    digestSHA256: be8d8554d40e981d1b93b5ff82497c9ad2259f59f675b38f1b5e84624c07fade
    stripComponents: 1

buildScript: |
    autotoolsBuild $1 \
       --disable-malloc0returnsnull

provideDeps: ['*-tgt']
packageScript: autotoolsPackageBin
