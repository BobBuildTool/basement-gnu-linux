inherit: [autotools]

metaEnvironment:
    PKG_VERSION: "1.4.7"
    PKG_DESCRIPTION: "X Keyboard description compiler"
    PKG_LICENSE: "LicenseRef-xkbcomp"
    PKG_LICENSE_PATH: "xkbcomp:COPYING"

depends:
    - libs::xorg::libX11-dev
    - libs::xorg::libxkbfile-dev
    - use: []
      depends:
          - libs::xorg::libX11-tgt
          - libs::xorg::libxkbfile-tgt

checkoutSCM:
    scm: url
    url: https://xorg.freedesktop.org/releases/individual/app/xkbcomp-${PKG_VERSION}.tar.xz
    digestSHA256: 0a288114e5f44e31987042c79aecff1ffad53a8154b8ec971c24a69a80f81f77
    stripComponents: 1

buildTools: [flex, bison]
buildScript: |
    autotoolsBuild $1

multiPackage:
    tgt:
        provideDeps: ['*-tgt']
        packageScript: autotoolsPackageTgt
    dev:
        provideDeps: ['*-dev']
        packageScript: autotoolsPackageDev
