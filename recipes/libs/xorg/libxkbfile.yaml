inherit: [autotools]

metaEnvironment:
    PKG_VERSION: "1.1.3"
    PKG_DESCRIPTION: "X11 keyboard file manipulation library"
    PKG_LICENSE_FILE: "COPYING"

depends:
    - graphics::xorg::proto::xorgproto
    - graphics::xorg::utils::util-macros

    - libs::xorg::libX11-dev
    - use: []
      depends:
          - libs::xorg::libX11-tgt

checkoutSCM:
    scm: url
    url: https://xorg.freedesktop.org/releases/individual/lib/libxkbfile-${PKG_VERSION}.tar.xz
    digestSHA256: a9b63eea997abb9ee6a8b4fbb515831c841f471af845a09de443b28003874bec
    stripComponents: 1

buildScript: |
    autotoolsBuild $1 \
        --disable-malloc0returnsnull

multiPackage:
    dev:
        packageScript: autotoolsPackageDev
    tgt:
        packageScript: autotoolsPackageTgt
