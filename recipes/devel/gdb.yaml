inherit: [autotools]

metaEnvironment:
    PKG_VERSION: "16.3"
    PKG_LICENSE: "GPL-3.0-or-later"

depends:
    - libs::mpfr-dev
    - libs::gmp-dev
    - libs::readline-dev

    - use: []
      depends:
          - libs::mpfr-tgt
          - libs::gmp-tgt
          - libs::readline-tgt

checkoutSCM:
    scm: url
    url: ${GNU_MIRROR}/gdb/gdb-${PKG_VERSION}.tar.xz
    digestSHA256: "bcfcd095528a987917acf9fff3f1672181694926cc18d609c99d0042c00224c5"
    stripComponents: 1

checkoutScript: |
    patchApplySeries $<@gdb/*@>

buildTools: [host-toolchain, texinfo, perl]

buildScript: |
    autotoolsBuild $1 --with-system-readline
    # shared not yet there, probably because of libtool?

packageScript: |
    autotoolsPackageTgt

provideDeps: [ "*-tgt" ]
